# Discovery Modals - Complete Audit & Coverage Plan

**Date:** 2025-11-08
**Status:** In Progress

---

## üéØ User Feedback Summary

### Issues Identified:
1. **Not enough modals** - Every feature and product needs discovery
2. **CTAs don't route correctly** - Need to take user directly to action
3. **No recovery mechanism** - Users who dismiss can't find info again

### Solutions Needed:
1. **Comprehensive modal coverage** - Map all features/products
2. **Fix all CTA routing** - Direct, actionable routes
3. **Knowledge Bank + reminder system** - "Find this in Knowledge Bank" popup
4. **Multiple modals per feature** - Different use cases, different contexts

---

## ‚úÖ Existing Modals (6)

| Modal | Trigger | Current CTA | Issues |
|-------|---------|-------------|--------|
| TreesVsBranchesWelcomeModal | Empty grove | "Plant My First Tree" | ‚ùì Where does it go? |
| HeirsWelcomeModal | 3+ memories, 0 heirs | "Choose My Keepers" | ‚úÖ Goes to branch settings |
| SharingWelcomeModal | 5+ memories, 0 invites | "Invite Someone" | ‚ùì Need to check |
| VoiceMemoriesWelcomeModal | 10+ text, 0 audio | "Record a Memory" | ‚ùì Need to check |
| PhotoMemoriesWelcomeModal | 10+ text, 0 photos | "Add a Photo" | ‚ùì Need to check |
| NestWelcomeModal | First nest visit | "Upload Photos" | ‚ùì Need to check |

---

## ‚ùå Missing Modals by Category

### Core Memory Features (8 needed)

1. **Audio Sparks** - Quick voice capture
   - Trigger: Never used audio sparks
   - CTA: Open audio sparks sidebar
   - Use cases: Quick capture, prompts, daily practice

2. **Firefly Bursts** - Memory rediscovery
   - Trigger: 20+ memories, never generated burst
   - CTA: Generate first burst
   - Use cases: Reflection, discovery, sharing

3. **Memory Threading** - Replies/conversations
   - Trigger: Viewing someone else's memory, never replied
   - CTA: Add a reply
   - Use cases: Dialogue, adding context, family conversation

4. **Story Sparks** - Writing prompts
   - Trigger: Viewing sparks, never used one
   - CTA: Use this spark
   - Use cases: Overcoming blank page, structured storytelling

5. **Glowing Memories** - Reactions
   - Trigger: Viewing shared branch, never glowed
   - CTA: Glow this memory
   - Use cases: Appreciation, engagement, highlighting favorites

6. **Memory Editing** - Edit your memories
   - Trigger: Viewing own memory, never edited
   - CTA: Edit this memory
   - Use cases: Adding details, fixing typos, enriching

7. **Memory Visibility** - Private vs shared
   - Trigger: Creating first memory in shared branch
   - CTA: Learn about visibility
   - Use cases: Privacy, legacy planning, current sharing

8. **Memory Scheduling** - Schedule future release
   - Trigger: Creating memory, never scheduled
   - CTA: Schedule this memory
   - Use cases: Birthdays, anniversaries, future reveals

### Products (7 needed)

9. **Greeting Cards** - Digital/physical cards
   - Trigger: Visiting /cards for first time
   - CTA: Create your first card
   - Use cases: Sympathy, celebration, memory sharing

10. **SoundArt** - Audio wave art
    - Trigger: Visiting /soundart, has audio memories
    - CTA: Turn a memory into art
    - Use cases: Gifts, memorials, wall art

11. **Forever Kit** - Export/backup
    - Trigger: 10+ memories, never exported
    - CTA: Create your first Forever Kit
    - Use cases: Backup, leaving platform, physical archive

12. **Memory Book** - PDF compilation
    - Trigger: Branch with 15+ memories
    - CTA: Generate preview
    - Use cases: Gifts, printing, legacy

13. **Spark Collections** - Organized prompts
    - Trigger: Viewing /sparks, never created collection
    - CTA: Create a collection
    - Use cases: Themed prompts, sharing prompts, personal workflow

14. **Treasure Chest** - Daily reflections (HAS modal, but needs more)
    - Additional triggers: After 7 day streak, milestone reached
    - Additional use cases: Sharing treasure, reviewing history

15. **Compass** - Goal/intention setting
    - Trigger: First visit to /compass
    - CTA: Set your first intention
    - Use cases: Reflection practice, memory goals, legacy planning

### Organization Features (6 needed)

16. **Multiple Trees** - Why have multiple
    - Trigger: Created 1 tree, been active 7 days
    - CTA: Plant another tree
    - Use cases: Organizing by person, by relationship, by time period

17. **Branches** - How to organize branches
    - Trigger: 3+ branches on one tree
    - CTA: Learn branch strategies
    - Use cases: Themes, chronological, by contributor

18. **Moving Memories** - Reorganize
    - Trigger: 20+ memories, never moved one
    - CTA: Move a memory
    - Use cases: Better organization, fixing mistakes, creating collections

19. **Transplanting Trees** - Move between groves
    - Trigger: Multiple groves exist
    - CTA: Learn about transplanting
    - Use cases: Consolidation, sharing, legacy transfer

20. **Rooting Trees** - Connect family trees
    - Trigger: 2+ people have trees
    - CTA: Root trees together
    - Use cases: Family connections, shared heritage

21. **Open Grove** - Public memorial space
    - Trigger: Has legacy tree, not in Open Grove
    - CTA: Add to Open Grove
    - Use cases: Public memorials, discovery, community

### Collaboration Features (5 needed)

22. **Co-authoring** - Joint memories
    - Trigger: Invited to branch, never co-authored
    - CTA: Add a joint memory
    - Use cases: Shared experiences, family events

23. **Approval Workflow** - Review contributions
    - Trigger: First pending memory in owned branch
    - CTA: Review pending memory
    - Use cases: Quality control, privacy, curation

24. **Branch Permissions** - Control access
    - Trigger: Invited 2+ people, all same permission
    - CTA: Customize permissions
    - Use cases: Moderators, viewers vs contributors

25. **Member Removal** - Remove collaborators
    - Trigger: Has members, never managed
    - CTA: Learn about managing members
    - Use cases: Conflict resolution, privacy, changing relationships

26. **Shareable Links** - One-time access
    - Trigger: Branch with memories, never shared link
    - CTA: Create shareable link
    - Use cases: Quick sharing, non-users, temporary access

### Legacy & Heir Features (4 needed)

27. **Heir Conditions** - When heirs get access
    - Trigger: Set heir, but no conditions
    - CTA: Set release conditions
    - Use cases: After death, specific date, specific age

28. **Multiple Heirs** - Why/how to add multiple
    - Trigger: 1 heir set, been active 30 days
    - CTA: Add another keeper
    - Use cases: Redundancy, different branches to different people

29. **Moderator Role** - Trustee during life
    - Trigger: Legacy tree, no moderator
    - CTA: Appoint a moderator
    - Use cases: Maintenance, approval during life, helper

30. **Legacy Transfer** - Full tree transfer
    - Trigger: Tree with heir, never used transfer
    - CTA: Learn about transfer
    - Use cases: Gifting tree, immediate handoff, end-of-life planning

### Account & Settings (4 needed)

31. **Subscription Tiers** - Plans explanation
    - Trigger: Approaching tree limit
    - CTA: View plans
    - Use cases: Upgrading, understanding limits

32. **Storage Limits** - Media capacity
    - Trigger: 50% storage used
    - CTA: Manage storage
    - Use cases: Optimization, upgrade consideration

33. **Import Features** - Bring existing content
    - Trigger: New user, no memories yet
    - CTA: Import from Facebook/other
    - Use cases: Migration, bulk import, getting started

34. **Privacy Settings** - Account-level control
    - Trigger: Never visited settings, active 7 days
    - CTA: Review privacy
    - Use cases: Discovery opt-in, public profile, data control

### Mobile Features (3 needed)

35. **Mobile App** - Download prompt
    - Trigger: Mobile browser, been active 3+ sessions
    - CTA: Download app
    - Use cases: Better experience, push notifications, offline

36. **Mobile Photo Upload** - Camera integration
    - Trigger: Mobile device, never used camera
    - CTA: Take a photo now
    - Use cases: In-the-moment capture, live events

37. **Voice Capture on Mobile** - Best mobile feature
    - Trigger: Mobile device, never recorded
    - CTA: Record your voice
    - Use cases: Hands-free, natural storytelling, on-the-go

---

## üîß CTA Routing Fixes Needed

### Audit of Existing CTAs:

```typescript
// Need to check each modal's onAction() to ensure correct routing

1. TreesVsBranchesWelcomeModal
   Current: ???
   Should: router.push('/grove/new-tree')

2. HeirsWelcomeModal
   Current: Opens branch settings (CORRECT ‚úÖ)

3. SharingWelcomeModal
   Current: ???
   Should: Open sharing modal for current branch OR router.push with ?openSharing=true

4. VoiceMemoriesWelcomeModal
   Current: ???
   Should: Trigger "New Memory" modal with audio tab pre-selected

5. PhotoMemoriesWelcomeModal
   Current: ???
   Should: router.push('/nest') OR trigger photo upload

6. NestWelcomeModal
   Current: ???
   Should: Focus on upload area
```

---

## üîÑ Recovery System Design

### Component: KnowledgeBankReminderPopup

**Shows when:**
- User dismisses ANY discovery modal
- Small, non-intrusive
- Bottom-right corner
- Auto-dismisses after 5 seconds

**Content:**
```
üí° You can always find this tip again

[View in Knowledge Bank] [X]
```

**Behavior:**
- Fades in after modal closes
- Links to specific article in Knowledge Bank
- Can be dismissed
- Doesn't show if user clicked primary CTA (only on dismiss/close)

---

## üìä Implementation Priority

### Phase 1: Fix Existing (Today)
- ‚úÖ Audit existing 6 modals' CTA routing
- ‚úÖ Fix any broken CTAs
- ‚úÖ Build KnowledgeBankReminderPopup component
- ‚úÖ Test existing modals with reminder

### Phase 2: Core Features (This Week)
- Build modals 1-8 (Core Memory Features)
- Wire them up in relevant pages
- Test trigger logic

### Phase 3: Products (Next Week)
- Build modals 9-15 (Products)
- Add to product pages
- Create product-specific articles

### Phase 4: Advanced Features (Following Week)
- Build modals 16-34 (Organization, Collaboration, Legacy, Account)
- More nuanced triggers
- Multi-step flows

### Phase 5: Mobile (Future)
- Build modals 35-37
- Mobile-specific UX
- App download flows

---

## üìù Next Steps

1. [ ] Review existing modal components for CTA bugs
2. [ ] Create KnowledgeBankReminderPopup component
3. [ ] Create comprehensive list of all needed articles for Knowledge Bank
4. [ ] Prioritize next 5 modals to build
5. [ ] Build out Knowledge Bank UI for recovery access

---

**Total Modals Needed:** 37+
**Currently Built:** 6
**Remaining:** 31+

This is a multi-week project but will dramatically improve feature discovery and user onboarding.
